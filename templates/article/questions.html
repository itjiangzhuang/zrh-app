<div class="found-step1">
    <div class="tittle">{{article.classification}}</div>
    <lable class="amount">
        <div>融资金额</div>
        <div class="countDiv"> {{article.loanValue}}<span>万</span></div>
    </lable>
    <div class="expect clear">
        <div class="expect_border">
            <p>营业执照</p>
            <span>{{article.regTime}}</span>
        </div>
        <div class="expect_border">
            <p>融资期限</p>
            <span class="term">{{article.loanLife}}个月</span>
        </div>
        <div class="expect_border">
            <p>接受利率</p>
            <span class="rate">{{article.rateCap}}%-{{article.rateFloor}}%</span>
        </div>
    </div>
    <div class="line"></div>
    <ul class="message">
        <li class="img"></li>
        <li class="messageli2">推荐人成交率</li>
        <li class="messageli3">{{batting.success}}/{{batting.total}}</li>
    </ul>

<div class="displayFrame">
    <div ng-repeat="message in message_list">
        <div ng-class="{true:'mycon',false:'othercon'}[message.self]">
            <div ng-class="{true:'myFrame',false:'otherFrame'}[message.self]">
                <span ng-class="{true:'spanImg',false:'spanImgOther'}[message.self]"></span>
                <span ng-class="{true:'my',false:'others'}[message.self]">{{message.comment}}</span>
                <span ng-class="{true:'myTriangle',false:'otherTriangle'}[message.self]"></span>
            </div>
        </div>
    </div>
</div>
    <!--<div class="speak" contenteditable="true" id="content">-->
         <!--</div>-->

<!--<form novalidate class="speakForm clear"></form>-->
  <!--  <div class="fixed-box">1231313
    </div>-->

</div>
<textarea class="speak fl" id="content" ng-focus="onFocus()" autofocus="autofocus" placeholder="输入您的消息" maxlength="70"></textarea>
<!--<hr class="textBottomLine" />-->
<input type="submit" class="speakBtn fr" ng-click="sendMessage()"/>
<!--<script>
    $(function () {
//        alert($(window).height());
        var ibc = $(window).height() - 223;
//        alert(ibc);
       $(".displayFrame").css("height",ibc+"px");
//        $(".found-step1").scrollTop = $(".found-step1").scrollHeight;
        $(".speak").keydown(function(){
//            $("div").html("Key: " + event.which);
//            $('.found-step1').scrollTop( $('.found-step1').scrollHeight );
            $('.found-step1').scrollTop($('.found-step1')[0].scrollHeight);
            $('.ng-scope').scrollTop( $('.ng-scope')[0].scrollHeight );
//            $("#div1").animate({ scrollTop: $('#div1')[0].scrollHeight}, 1000);
        });
        $('#content').keypress(function(event){
            var keycode = (event.keyCode ? event.keyCode : event.which);
            if(keycode == '13'){
                $(".speakBtn").click();
                $("#content").text("");
            }
        });
    });

</script>-->
<!--<script>
    $(function () {
        setTimeout(function () {
            $('.displayFrame').animate({scrollTop: $('.displayFrame')[0].scrollHeight}, 500);
        }, 500)
        $('#content').focus(function () {
            var now = $('.displayFrame').height();
            var _top = $('.found-step1').height();
            var vt = now - 80;
            var _scroll = $('.displayFrame')[0].scrollHeight;
            $('.found-step1').hide();
            $('.displayFrame').animate({scrollTop: _scroll}, 500);
            $('.displayFrame').height(vt);
            $('.displayFrame').css('top', 0);
        });
        $('#content').blur(function () {
            var now = $('.displayFrame').height();
            var _top = $('.found-step1').height();
            var vt = now + 80;
            $('.displayFrame').height(vt);
            $('.found-step1').show();
            $('.displayFrame').css('top', 0);
            var _scroll = $('.displayFrame')[0].scrollHeight;
            $('.displayFrame').animate({scrollTop: _scroll}, 500);
        });
    });

</script>-->
<script>
    $(function () {
//        alert($(window).height());
        var ibc = $(window).height() - 253;
//        alert(ibc);
        $(".displayFrame").css("height",ibc+"px");
    });
    var content = document.getElementById("content");
    var autoTextarea = function (elem, extra, maxHeight) {
        extra = extra || 0;
        var isFirefox = !!document.getBoxObjectFor || 'mozInnerScreenX' in window,
                isOpera = !!window.opera && !!window.opera.toString().indexOf('Opera'),
                addEvent = function (type, callback) {
                    elem.addEventListener ?
                            elem.addEventListener(type, callback, false) :
                            elem.attachEvent('on' + type, callback);
                },
                getStyle = elem.currentStyle ? function (name) {
                    var val = elem.currentStyle[name];

                    if (name === 'height' && val.search(/px/i) !== 1) {
                        var rect = elem.getBoundingClientRect();
                        return rect.bottom - rect.top -
                                parseFloat(getStyle('paddingTop')) -
                                parseFloat(getStyle('paddingBottom')) + 'px';
                    };

                    return val;
                } : function (name) {
                    return getComputedStyle(elem, null)[name];
                },
                minHeight = parseFloat(getStyle('height'));

        elem.style.resize = 'none';

        var change = function () {
            var scrollTop, height,
                    padding = 0,
                    style = elem.style;

            if (elem._length === elem.value.length) return;
            elem._length = elem.value.length;

            if (!isFirefox && !isOpera) {
                padding = parseInt(getStyle('paddingTop')) + parseInt(getStyle('paddingBottom'));
            };
            scrollTop = document.body.scrollTop || document.documentElement.scrollTop;

            elem.style.height = minHeight + 'px';
            if (elem.scrollHeight > minHeight) {
                if (maxHeight && elem.scrollHeight > maxHeight) {
                    height = maxHeight - padding;
                    style.overflowY = 'auto';
                } else {
                    height = elem.scrollHeight - padding;
                    style.overflowY = 'hidden';
                };
                style.height = height + extra + 'px';
                scrollTop += parseInt(style.height) - elem.currHeight;
                document.body.scrollTop = scrollTop;
                document.documentElement.scrollTop = scrollTop;
                elem.currHeight = parseInt(style.height);
            };
        };

        addEvent('propertychange', change);
        addEvent('input', change);
        addEvent('focus', change);
        change();
    };
    autoTextarea(content);// 调用
</script>